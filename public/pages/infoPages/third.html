
<div class = "bodyTextTitle">
    <h1> Welcome to Time. </h1>
    <h2> Here we gonna go through subjects like getting the time, fetching and </h2>
    </br>
                                        <!-- Time & Deployment -->
</div>
<div class = "bodyTextTitle">
    <h1> - Time & Deployment - </h1>
</div>

<div class = "bodyText">
    <p> 
         When it comes to time, in coding, you have more than one way to get the time. </br>
         We were focusing on 3 types of "time calls".
    </p>
</div>

<div class = "bodyCode">
    <pre>
        <code>
            app.get('/time/time', (req, res) => {
                res.send({
                    timeUTC: new Date(),
                    timeLocal: Date(),
                    unixTimestamp: Date.now()
                });
            }); 
        </code>
    </pre>
</div>

<div class = "bodyText">
    <p> 
        And I made a countdown with it.
    </p>
</div> 

<div class = "bodyCode">
    <pre>
        <code>
    const timeStampBtn = document.getElementById('time-stamp-btn');
    const clickedBtn = document.getElementById('clicked-btn');
    const clickedTxt = document.getElementById('clicked-txt');
    const dateTime = document.getElementById('datetime-p')
    const countDownDate = new Date("April 2, 2023 00:00:00").getTime();
    
    clickedBtn.addEventListener('click', async(e) => {
        await fetch('/api/clicked', {
            method: 'PUT',
        });
        displayClicked();
    });
    
    displayClicked();
    
    async function displayClicked() {
        const data = await fetch('/api/clicked');
        const numberOfClicks = await data.json();
        clickedTxt.innerText = numberOfClicks.data;
    };
    
    timeStampBtn.addEventListener('click', async(e) => {
        const data = await fetch('/api/timestamp', {
            method: 'POST'
        });
    });
    
    const date = new Date();
    document.getElementById('datetime-p').innerHTML = date;

    const x = setInterval(function() {
        const now = new Date().getTime();
        const distance = countDownDate - now;
        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);
        document.getElementById("countdown-p").innerHTML = days + "d " + hours + "h "
        + minutes + "m " + seconds + "s ";
        if (distance < 0) {
            clearInterval(x);
            document.getElementById("countdown-p").innerHTML = "EXPIRED";
        }
    }, 1000);
        </code>
    </pre>
</div>

<div class = "bodyText">
    <p> 
         
    </p>
</div> 

                                        <!-- Fetch -->
<div class = "bodyTextTitle">
    <h1> - Fetch - </h1>
</div>

<div class = "bodyText">
    <p> 
        When fetching data from an API, you need to use the fetch() method. </br>
        This method returns a promise, which is a placeholder for the data that will eventually be returned. </br>
        The fetch() method takes one mandatory argument, the path to the resource you want to fetch.
    </p>
</div>

<img src="assets/images/fetch.jpg" alt="fetch" class="fetch">

<div class = "bodyText">
    <p> 
        The fetch() method returns a promise that resolves to the Response to that request, whether it is successful or not. </br>
        The promise will reject with a typeError when a network error is encountered or CORS is misconfigured on the server-side. </br>
        The promise will resolve successfully, even if the response is an HTTP 404 or 500.
    </p>
</div> 